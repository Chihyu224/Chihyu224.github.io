---
title: 如何喚回 vim
date: 2021-06-16 19:10:00
updated: 2021-06-16 19:30:00
categories: 程式
tags:
- vim
- Linux
- Ubuntu
---
有時候使用 vim 編輯文件，突然畫面就沒有回應，連游標都不會移動。但是切換到同一終端機的其他分頁時，可以正常操作任何行為。對於使用者而言，這就像是鬼打牆啊……

<!-- more -->

## 解除畫面鎖定
其實這是在 vim 裡面點擊 <kbd>Ctrl</kbd> + <kbd>s</kbd> 導致畫面輸出被隱藏。看起來就像是當掉，實際上點擊的每個按鍵都有被 vim 接收，只是沒有顯示出來罷了。

只要點擊 <kbd>Ctrl</kbd> + <kbd>q</kbd> 就可以恢復畫面輸出，讓一切回到使用者的掌控之下！

從 windows 系統轉為使用 ubuntu，讓我還殘留著一邊修改文件，一邊使用快捷鍵 <kbd>Ctrl</kbd> + <kbd>s</kbd> 儲存檔案的習慣。沒想到就是這個習慣，反而讓我誤以為當機而重新編輯好幾次啊……

恢復的同時，會顯示出隱藏期間所有操作的結果。如果畫面鎖定的時候亂敲鍵盤，文件可能就變得一團亂啦！

## 復原與取消復原
在 vim 的命令模式下點擊 <kbd>u</kbd> 是復原前一個變動；<kbd>Ctrl</kbd> + <kbd>r</kbd> 則是取消復原。

善用這兩個命令，應該就能把文件還原至尚未鎖定前的狀態。

另外，常常讓我搞錯的是，vim 的復原與取消復原並不是一組的，一個是 **u**；另一個是 **r**。幸好，誤點成 <kbd>Ctrl</kbd> + <kbd>u</kbd> 只是往上移動半個畫面，並不會對文件內容進行修改。